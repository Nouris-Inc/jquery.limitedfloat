/*
 * Limited Float Box  version 0.2
 * (jQuery plugin) 
 * 
 * URL       : https://github.com/STatsu/jquery.limitedfloat
 * Author    : STatsu (http://atticfactory.com/)
 * Copyright : copyright (c) 2013 atticfactory
 * License   : licensed under the MIT licenses.
 */
(function(A){A.fn.limitedfloat=function(N){var P={wrapperID:""};A.extend(P,N);var L=this;var M=A(window);var H=this.offset().top;var J=L.outerHeight()+parseInt(this.css("marginBottom"),10);var F=this.offset().left;var B=P.wrapperID?A("#"+P.wrapperID):null;if(B.css("position")!="relative"&&B.css("position")!="absolute"){B.css("position","relative")}var C=B.offset().top;var O=B.offset().left;var I=B.offset().top+B.height();var G=F-O;var K=false;var E=function(){var R=M.scrollTop();var S=L.css("position");var Q="static";if(R>=H){Q=R+J<=I?"fixed":"absolute"}if(!K&&S==Q){return}if(Q=="fixed"){L.css({position:"fixed",left:F,top:0})}else{if(Q=="absolute"){L.css({position:"absolute",left:F-O,top:I-J-C})}else{L.css({position:"static"})}}K=false};var D=function(){K=true;O=B.offset().left;F=O+G;E()};M.on("load",E);M.on("scroll",E);M.on("resize",D)}})(jQuery);
